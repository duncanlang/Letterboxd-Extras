<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="options.css">
    <link rel="stylesheet" href="colour_scheme.css">
</head>

<body>
    <section class="topnav">
        <p class="nav-item" sectionId="ratings">Ratings</p>
        <p class="nav-item" sectionId="reorder">Reorder</p>
        <p class="nav-item" sectionId="search">Search</p>
        <p class="nav-item" sectionId="rankings">Rankings</p>
        <p class="nav-item" sectionId="content-ratings">Content Ratings</p>
        <p class="nav-item" sectionId="add-links">Additional Links</p>
        <p class="nav-item" sectionId="misc">Misc</p>
        <p class="nav-item" sectionId="google-search">Google</p>
        <p class="nav-item" sectionId="import-export">Import/Export</p>
        <p class="nav-item" sectionId="debug">Debug</p>
    </section>

    <div id="requestalldiv">
        <h3>Missing Permissions</h3>
        <div>
            <p class="info-tip">You are missing some permissions needed for certain enabled settings.</p>
            <input type="button" id="requestall" value="Request Missing Permissions" />
        </div>
        <hr width="100%">
    </div>

    <!-- Ratings -->
    <div id="ratings">
        <h3>Ratings</h3>
        <div>
            <h4>IMDb</h4>
            <div>
                <label for="imdb-enabled">Display IMDb:</label>
                <input type="checkbox" id="imdb-enabled" class="setting"/>
            </div>
        </div>
        <div>
            <h4>MyAnimeList</h4>
            <div>
                <label for="mal-enabled">Display MyAnimeList:</label>
                <input type="checkbox" id="mal-enabled" class="setting"/>
            </div>
        </div>
        <div>
            <h4>AniList</h4>
            <div>
                <label for="al-enabled">Display AniList:</label>
                <input type="checkbox" id="al-enabled" class="setting"/>
            </div>
        </div>
        <div>
            <h4>Rotten Tomatoes</h4>
            <div>
                <label for="tomato-enabled">Display Rotten Tomatoes:</label>
                <input type="checkbox" id="tomato-enabled" subid="tomato-div" class="setting"/>
            </div>
            <div id="tomato-div">
                <div>
                    <label for="tomato-critic-enabled">Display critic ratings:</label>
                    <input type="checkbox" id="tomato-critic-enabled" class="setting"/>
                </div>
                <div>
                    <label for="tomato-audience-enabled">Display audience ratings:</label>
                    <input type="checkbox" id="tomato-audience-enabled" class="setting"/>
                </div>
                <div>
                    <label for="rt-default-view">Default detail view:</label>
                    <select id="rt-default-view"class="setting">
                        <option value="hide">Hide</option>
                        <option value="show">Show</option>
                        <option value="remember">Remember Last</option>
                    </select>
                </div>
                <div>
                    <label for="critic-default">Default critic score:</label>
                    <select id="critic-default"class="setting">
                        <option value="all">All Critics</option>
                        <option value="top">Top Critics</option>
                    </select>
                </div>
                <div>
                    <label for="audience-default">Default audience score:</label>
                    <select id="audience-default"class="setting">
                        <option value="all">All Audience</option>
                        <option value="verified">Verified Audience</option>
                    </select>
                </div>
            </div>
        </div>
        <div>
            <h4>Metacritic</h4>
            <div>
                <label for="metacritic-enabled">Display Metacritic:</label>
                <input type="checkbox" id="metacritic-enabled" subid="meta-div"class="setting"/>
            </div>
            <div id="meta-div">
                <div>
                    <label for="metacritic-critic-enabled">Display critic ratings:</label>
                    <input type="checkbox" id="metacritic-critic-enabled" class="setting"/>
                </div>
                <div>
                    <label for="metacritic-users-enabled">Display user ratings:</label>
                    <input type="checkbox" id="metacritic-users-enabled" class="setting"/>
                </div>
                <div>
                    <label for="metacritic-mustsee-enabled">Display Must-See/Must-Watch:</label>
                    <input type="checkbox" id="metacritic-mustsee-enabled" class="setting"/>
                </div>
                <div>
                    <label for="meta-default-view">Default detail view:</label>
                    <select id="meta-default-view" class="setting">
                        <option value="hide">Hide</option>
                        <option value="show">Show</option>
                        <option value="remember">Remember Last</option>
                    </select>
                </div>
            </div>
        </div>
        <div>
            <h4>SensCritique</h4>
            <div>
                <label for="senscritique-enabled">Display SensCritique:</label>
                <input type="checkbox" id="senscritique-enabled" permission="https://apollo.senscritique.com/*" subid="sens-div" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="senscritique-permissions" class="request-permission" permissionTarget="senscritique-enabled" value="Request Permission"/>
            </div>
            <div id="sens-div" class="disabled">
                <div>
                    <label for="sens-favorites-enabled">Display recommended count:</label>
                    <input type="checkbox" id="sens-favorites-enabled" class="setting"/>
                </div>
            </div>
        </div>
        <div>
            <h4>MUBI</h4>
            <div>
                <label for="mubi-enabled">Display MUBI:</label>
                <input type="checkbox" id="mubi-enabled" permission="https://api.mubi.com/*" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="mubi-permissions" class="request-permission" permissionTarget="mubi-enabled" value="Request Permission"/>
            </div>
        </div>
        <div>
            <h4>FilmAffinity</h4>
            <div>
                <label for="filmaff-enabled">Display FilmAffinity:</label>
                <input type="checkbox" id="filmaff-enabled" permission="https://*.filmaffinity.com/*" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="filmaff-permissions" class="request-permission" permissionTarget="filmaff-enabled" value="Request Permission"/>
            </div>
        </div>
        <div>
            <h4>Simkl</h4>
            <div>
                <label for="simkl-enabled">Display Simkl:</label>
                <input type="checkbox" id="simkl-enabled" permission="https://api.simkl.com/*" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="simkl-permissions" class="request-permission" permissionTarget="simkl-enabled" value="Request Permission"/>
            </div>
        </div>
        <div>
            <h4>AlloCiné</h4>
            <div>
                <label for="allocine-enabled">Display AlloCiné:</label>
                <input type="checkbox" id="allocine-enabled" permission="https://www.allocine.fr/*" subid="allo-div" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="allocine-permissions" class="request-permission" permissionTarget="allocine-enabled" value="Request Permission"/>
            </div>
            <div id="allo-div" class="disabled">
                <div>
                    <label for="allocine-users-enabled">Display user ratings:</label>
                    <input type="checkbox" id="allocine-users-enabled" class="setting"/>
                </div>
                <div>
                    <label for="allocine-critic-enabled">Display critic ratings:</label>
                    <input type="checkbox" id="allocine-critic-enabled" class="setting"/>
                </div>
                <div>
                    <label for="allocine-style">Display Style:</label>
                    <select id="allocine-style" subid="allo-view-div" subidvalue="ratings" class="setting">
                        <option value="histogram">Histogram Graph</option>
                        <option value="ratings">Side-by-side Ratings</option>
                    </select>
                </div>
                <div id="allo-view-div">
                    <div>
                        <label for="allocine-default-view">Default ratings view:</label>
                        <select id="allocine-default-view" class="setting">
                            <option value="user">User</option>
                            <option value="critic">Critic</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <h4>Kinopoisk</h4>
            <div>
                <label for="kinopoisk-enabled">Display Kinopoisk:</label>
                <input type="checkbox" id="kinopoisk-enabled" permission="https://kinopoiskapiunofficial.tech/api/*" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="kinopoisk-permissions" class="request-permission" permissionTarget="kinopoisk-enabled" value="Request Permission"/>
            </div>
            <div>
                <label for="kinopoisk-apikey">API Key (optional):</label>
                <input type="text" id="kinopoisk-apikey" class="setting"/>
                <a class="hyperlink" href="https://kinopoiskapiunofficial.tech/" target="_blank">Get your API key from the unofficial API</a>
                <p class="info-tip">Letterboxd Extras uses an unoffical API to get the ratings from Kinopoisk. If you encounter issues with rate limiting, you can enter your own key.</p>
            </div>
        </div>
        <div>
            <h4>Filmarks</h4>
            <div>
                <label for="filmarks-enabled">Display Filmarks:</label>
                <input type="checkbox" id="filmarks-enabled" permission="https://markuapi.apn.leapcell.app/*" class="setting" />
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="filmarks-permissions" class="request-permission" permissionTarget="filmarks-enabled" value="Request Permission"/>
            </div>
        </div>
        <div>
            <h4>CinemaScore</h4>
            <div>
                <label for="cinema-enabled">Display CinemaScore:</label>
                <input type="checkbox" id="cinema-enabled" class="setting"/>
            </div>
        </div>
    </div>

    <hr width="100%">

    <!-- Reorder Ratings -->
    <div id="reorder">
        <h3>Reorder Ratings</h3>

        <label for="override-ratings-order">Override default order:</label>
        <input type="checkbox" id="override-ratings-order" subid="rating-order-div" class="setting"/>

        <div id="rating-order-div">
            <ul id="ratings-order" class="sortable-list">
                <li class="sortable-item" draggable="true" rating-id="imdb-ratings">IMDb</li>
                <li class="sortable-item" draggable="true" rating-id="mal-ratings">MyAnimeList</li>
                <li class="sortable-item" draggable="true" rating-id="al-ratings">AniList</li>
                <li class="sortable-item" draggable="true" rating-id="allocine-ratings">AlloCiné</li>
                <li class="sortable-item" draggable="true" rating-id="tomato-ratings">Rotten Tomatoes</li>
                <li class="sortable-item" draggable="true" rating-id="meta-ratings">Metacritic</li>
                <li class="sortable-item" draggable="true" rating-id="sens-rating">SensCritique</li>
                <li class="sortable-item" draggable="true" rating-id="mubi-ratings">Mubi</li>
                <li class="sortable-item" draggable="true" rating-id="filmaff-ratings">FilmAffinity</li>
                <li class="sortable-item" draggable="true" rating-id="simkl-ratings">Simkl</li>
                <li class="sortable-item" draggable="true" rating-id="kinopoisk-ratings">Kinopoisk</li>
                <li class="sortable-item" draggable="true" rating-id="filmarks-ratings">Filmarks</li>
                <li class="sortable-item" draggable="true" rating-id="cinemascore">CinemaScore</li>
            </ul>
            <input type="button" id="reset-rating-order" value="Reset order to default" />
        </div>
    </div>

    <hr width="100%">

    <!-- LB Search -->
    <div id="search">
        <h3>Search</h3>
        <div>
            <label for="search-redirect">Default results to films:</label>
            <input type="checkbox" id="search-redirect" class="setting"/>
            <p class="info-tip">Defaults the Letterboxd search to only show results for films, rather than showing all results.</p>
        </div>
    </div>

    <hr width="100%">

    <!-- Rankings -->
    <div id="rankings">
        <h3>Rankings</h3>
        <div>
            <div>
                <label for="tspdt-enabled">Show "They Shoot Pictures, Don't They?" top 1000 rankings:</label>
                <input type="checkbox" id="tspdt-enabled" permission="https://www.theyshootpictures.com/*" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="tspdt-permissions" class="request-permission" permissionTarget="tspdt-enabled" value="Request Permission"/>
            </div>
        </div>
        <div>
            <div>
                <label for="bfi-enabled">Show "BFI Sight and Sound" top 250 rankings:</label>
                <input type="checkbox" id="bfi-enabled" permission="https://www.bfi.org.uk/*" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="bfi-permissions" class="request-permission" permissionTarget="bfi-enabled" value="Request Permission"/>
            </div>
        </div>
    </div>

    <hr width="100%">

    <!-- Content Ratings -->
    <div id="content-ratings">
        <h3>Content Ratings</h3>
        <div>
            <label for="content-ratings">Display content ratings from:</label>
            <select id="content-ratings" class="setting">
                <option value="none">None</option>
                <option value="mpaa">MPA (United States)</option>
                <option value="bbfc">BBFC (United Kingdom)</option>
                <option value="fsk">FSK (Germany)</option>
                <option value="cnc">CNC (France)</option>
                <option value="eirin">EIRIN (Japan)</option>
                <option value="kmrb">KMRB (South Korea)</option>
                <option value="acb">ACB (Australia)</option>
                <option value="classind">ClassInd (Brazil)</option>
            </select>
        </div>
        <div id="mpa-div">
            <label for="mpa-convert">Convert historical content ratings to modern equivalent:</label>
            <input type="checkbox" id="mpa-convert" class="setting"/>
        </div>
    </div>

    <hr width="100%">

    <!-- Additional Links -->
    <div id="add-links">
        <h3>Additional 'More at' Links</h3>

        <div>
            <h4>"Does the Dog Die?"</h4>
            <div>
                <label for="ddd-enabled">Display "Does the Dog Die?" link:</label>
                <input type="checkbox" id="ddd-enabled" permission="https://www.doesthedogdie.com/*" class="setting"/>
            </div>
            <div class="div-request-permission">
                <label style="color: red;">! Missing Permission !</label>
                <input type="button" id="tspdt-permissions" class="request-permission" permissionTarget="tspdt-enabled" value="Request Permission"/>
            </div>
            <div>
                <label for="ddd-apikey">API Key (optional):</label>
                <input type="text" id="ddd-apikey" class="setting"/>
                <a class="hyperlink" href="https://www.doesthedogdie.com/profile" target="_blank">Get your API key from your DDD profile</a>
                <p class="info-tip">An API key is supposed to be mandatory for the DDD API, however, the API call seems to work without. If this does not work, you can try to use your own API key.</p>
            </div>
        </div>
        <div>
            <h4>BoxOfficeMojo</h4>
            <label for="mojo-link-enabled">Display BoxOfficeMojo link:</label>
            <input type="checkbox" id="mojo-link-enabled" class="setting"/>
        </div>
        <div>
            <h4>Wikipedia</h4>
            <label for="wiki-link-enabled">Display Wikipedia link:</label>
            <input type="checkbox" id="wiki-link-enabled" class="setting"/>
        </div>
    </div>

    <hr width="100%">

    <!-- Miscellaneous -->
    <div id="misc">
        <h3>Miscellaneous</h3>
        <div>
            <label for="convert-ratings">Convert ratings:</label>
            <select id="convert-ratings" class="setting">
                <option value="false">Leave unchanged</option>
                <option value="5">5-point scale</option>
                <option value="10">10-point scale</option>
            </select>
            <p class="info-tip">Converts ratings to different rating scales. Affects all ratings except for Cinemascore and Rotten Tomatoes percentage.</p>
        </div>
        <div>
            <label for="open-same-tab">Open 'More At' links in same tab:</label>
            <input type="checkbox" id="open-same-tab" class="setting"/>
        </div>
        <!-- Replace fans -->
        <div>
            <label for="replace-fans">Replace 'Fans' with Rating Count:</label>
            <select id="replace-fans" class="setting">
                <option value="false">Leave unchanged</option>
                <option value="replace">Replace</option>
                <option value="both">Side-by-side</option>
            </select>
        </div>
        <!-- Hide Ratings -->
        <div>
            <label for="hide-ratings-enabled">Hide ratings:</label>
            <select id="hide-ratings-enabled" class="setting" subid="div-ratings-unwatched" subidvalue="false">
                <option value="false">Leave unchanged</option>
                <option value="additional">Hide additional ratings</option>
                <option value="all">Hide all ratings</option>
            </select>
            <div id="div-ratings-unwatched">
                <label for="hide-ratings-unwatched">Only when unwatched:</label>
                <input type="checkbox" id="hide-ratings-unwatched" class="setting"/>
            </div>
        </div>
        <!-- Hide Reviews -->
        <div>
            <label for="hide-reviews-enabled">Hide reviews:</label>
            <select id="hide-reviews-enabled" class="setting" subid="div-reviews-unwatched" subidvalue="false">
                <option value="false">Leave unchanged</option>
                <option value="all">Hide reviews</option>
            </select>
            <div id="div-reviews-unwatched">
                <label for="hide-reviews-unwatched">Only when unwatched:</label>
                <input type="checkbox" id="hide-reviews-unwatched" class="setting"/>
            </div>
        </div>
        <!-- Display tooltips -->
        <div>
            <label for="tooltip-show-details">Display rating tooltips on the page:</label>
            <input type="checkbox" id="tooltip-show-details" class="setting"/>
        </div>
    </div>

    <hr width="100%">

    <!-- Google Search -->
    <div id="google-search">
        <h3>Google Search</h3>
        <div>
            <label for="google">Always display Letterboxd score on Google searches:</label>
            <input type="checkbox" id="google" permission="https://www.google.com/search*" contentScript="google2letterboxd.js" contentScriptID="google2letterboxd" class="setting"/>
        </div>
        <div class="div-request-permission">
            <label style="color: red;">! Missing Permission !</label>
            <input type="button" id="google-permissions" class="request-permission" permissionTarget="google" value="Request Permission"/>
        </div>
        <div class="div-request-contentscript">
            <label style="color: red;">! Missing Content Script !</label>
            <input type="button" id="google-contentscripts" class="request-contentscript" permissionTarget="google" value="Request Content Script"/>
        </div>
    </div>

    <hr width="100%">

    <!-- Import/Export -->
    <div id="import-export">
        <h3>Import/Export Settings</h3>
        <div>
            <input type="button" id="export" value="Export to File" />
        </div>
        <div id="importdivdesktop">
            <input type="button" id="import" value="Import from File" />
            <input type="file" accept="application/json" id="importpicker">
        </div>
        <div id="importdivandroid" style="display:none">
            <input type="button" id="importbutton" value="Import from File" />
            <p class="info-tip">This will open the restore in a separate tab.</p>
            <p id="tabpermissionreminder">This requires the 'tabs' permission to open the new tab. The request pop-up will likely open behind this due to a bug with FireFox.</p>
        </div>
        <div>
            <input type="button" id="reset" value="Reset settings to default" />
        </div>
    </div>

    <hr width="100%">

    <!-- Debug -->
    <div id="debug">
        <h3>Debug</h3>
        <div>
            <label for="console-log">Log calls in console:</label>
            <input type="checkbox" id="console-log" class="setting"/>
        </div>
    </div>

    <hr width="100%">

    <div>
        <div>
            <a class="hyperlink" href="https://github.com/duncanlang/Letterboxd-Extras/issues" target="_blank">Report an issue or suggest a new feature on GitHub</a>
        </div>
    </div>

    <hr width="100%">

    <script src="options.js"></script>
</body>

</html>